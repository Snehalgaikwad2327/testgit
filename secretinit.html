<!DOCTYPE html>
<html>
<head>
<style>
body{
	background-color:skyblue;
	text-align:"center";
	
}
input{
	width:600px;
	box-shadow: 0 0 5px 0;
	border-radius:12px ;
	padding:7px;

}
button{
	width:120px;
	padding:7px;
	border-radius:8px ;
}

</style>
</head>
<body>

<h1 style="text-align:center">KEYS</h1>

<label for="secret_key"><b>Input for secret key</b></label><br><br>

<input type="text" id="secret_key" value="">

<p>Click the button to get the value of the secret key.</p>

<button onclick="SecretKey()"><b>Secret key</b></button>

<p><b>Output:</b></p>
<p id="skey"></p>

<label for="init_key"><b>Input for InitVector key</b></label><br><br>

<input type="text" id="init_key" value="">

<p>Click the button to get the value of the InitVector key.</p>

<button onclick="InitKey()"><b>InitVector key</b></button>

<p><b>Output:</b></p>
<p id="initkey"></p>


<script>
function SecretKey() 
{
	var secretKeyString = document.getElementById("secret_key").value;

	var last4Digit=secretKeyString.slice(-4,)

	var secretBlock=""
	var output=""

	for(let i=0;i<4;i++)
	{
		let digit=last4Digit[i];

		let subString=secretKeyString.substring(digit,0);    //get string from 1-8 characters

		secretBlock=secretBlock.concat(subString);           //append string in variable

		console.log(secretBlock);                            //output

		sliceString=secretKeyString.slice(digit,);

		sliceSubstring=sliceString.substring(8,0);

		output=output.concat(sliceSubstring);

		console.log(output);                                //OUTPUT

		var secretKeyString=sliceString.slice(8,);

	}
	document.getElementById("skey").innerHTML = output ;
}

function InitKey() 
{
	var initKeyString = document.getElementById("init_key").value;

	var last04Digit=initKeyString.slice(-4,)
	
	var string=initKeyString.slice(0,-4)

	var initBlock=""
	var initVectorOutput=""

	for(let i=3;i>=0;i--)
	{
		let digit=last04Digit[i];
		
		slice=string.slice(-4,);
		
		initVectorOutput=initVectorOutput.concat(slice);
                   
		console.log(initVectorOutput);                 

		sliceFullString=string.slice(0,-4);
		
		if (digit>0)
		{                                              
			sliceOutput=sliceFullString.slice(-digit,) ;  
			
			initBlock=initBlock.concat(sliceOutput);

			console.log(initBlock);                   

			var string=sliceFullString.slice(0,-digit);

		}
		else
		{
			var string=sliceFullString.slice(-digit,) ;
		}
		                        
		
	}
	
	document.getElementById("initkey").innerHTML = initVectorOutput ;
}
</script>

</body>
</html>





